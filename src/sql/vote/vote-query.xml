<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
   <entry key="getListCount">
      SELECT
           COUNT(*)
       FROM VOTE
      WHERE V_STATUS = 'Y'
   </entry>
   <entry key="getTitleListCount">
		SELECT
			  COUNT(*)
		 FROM VOTE
		WHERE V_STATUS = 'Y'
		  AND V_TITLE LIKE '%' || ? || '%'
	</entry>
	<entry key="getContentListCount">
		SELECT
			  COUNT(*)
		 FROM VOTE
		WHERE V_STATUS = 'Y'
		  AND V_CONTENT LIKE '%' || ? || '%'
	</entry>
   
   <entry key="selectsearchList">
      SELECT
           V_NO
         , V_TITLE
         , V_CONTENT
         , V_COUNT
         , V_ENROLL_DATE
         , V_MODIFY_DATE
         , V_STATUS
         , M_NO
         , M_NICK
      FROM(SELECT ROWNUM RNUM
              , VLIST.*
          FROM(SELECT
                    *
                     FROM VOTE 
                     JOIN INFO_MANAGER USING (M_NO)
                    WHERE V_STATUS = 'Y'
                    ORDER BY V_NO DESC) VLIST)
       WHERE RNUM BETWEEN ? AND ?
   </entry>
   <entry key="selecTitleList">
		SELECT
           V_NO
         , V_TITLE
         , V_CONTENT
         , V_COUNT
         , V_ENROLL_DATE
         , V_MODIFY_DATE
         , V_STATUS
         , M_NO
         , M_NICK
      FROM(SELECT ROWNUM RNUM
              , VLIST.*
          FROM(SELECT
                    *
                     FROM VOTE 
                     JOIN INFO_MANAGER USING (M_NO)
                    WHERE V_STATUS = 'Y'
                      AND V_TITLE LIKE '%' || ? || '%'
                    ORDER BY V_NO DESC) VLIST)
       WHERE RNUM BETWEEN ? AND ?
	</entry>
	<entry key="selecContentList">
	SELECT
		    SELECT
           V_NO
         , V_TITLE
         , V_CONTENT
         , V_COUNT
         , V_ENROLL_DATE
         , V_MODIFY_DATE
         , V_STATUS
         , M_NO
         , M_NICK
      FROM(SELECT ROWNUM RNUM
              , VLIST.*
          FROM(SELECT
                    *
                     FROM VOTE 
                     JOIN INFO_MANAGER USING (M_NO)
                    WHERE V_STATUS = 'Y'
                      AND V_CONTENT LIKE '%' || ? || '%'
                    ORDER BY V_NO DESC) VLIST)
       WHERE RNUM BETWEEN ? AND ?
	</entry>
   <entry key="insertVote">
      INSERT
      INTO VOTE
      (
          V_NO
		, V_TITLE
		, V_CONTENT
		, V_COUNT
		, V_ENROLL_DATE
		, V_MODIFY_DATE
		, V_STATUS
		, M_NO
		, V_CHOICE
      )
      VALUES
      (
         VOTE_SEQ.NEXTVAL
         , ?
         , ?
         , DEFAULT
         , SYSDATE
         , TO_DATE(?, 'YY/MM/DD')
         , DEFAULT
         , ?
         , ?
      )
   </entry> 
   <entry key="insertVoteExample">
      INSERT
      INTO VOTE_EXAMPLE
      (
          VE_NO
		, V_NO
		, VE_CHOICE1
		, VE_CHOICE2
		, VE_CHOICE3
		, VE_CHOICE4
		, VE_CHOICE5
      )
      VALUES
      (
         VOTE_EXAMPLE_SEQ.NEXTVAL
         , ?
         , ?
         , ?
         , ?
         , ?
         , ?
      )
   </entry>
   
   <entry key="selectvno">
   SELECT VOTE_SEQ.CURRVAL FROM DUAL
   </entry>
   
   <entry key="increaseCount">
         UPDATE VOTE
         SET V_COUNT = V_COUNT +1
       WHERE V_NO = ?
         AND V_STATUS = 'Y'
   </entry>
   <entry key="selectVote">
        SELECT
            V.V_NO
         , V.V_TITLE
         , V.V_CONTENT
            , V.V_COUNT
         , V.V_ENROLL_DATE
         , V.V_MODIFY_DATE
         , V.V_STATUS
            , M.M_NO
       FROM VOTE V, INFO_MANAGER M
       WHERE V.V_NO = M.M_NO 
         AND V_NO = ?
       AND V_STATUS = 'Y';
   </entry>
   
   <entry key="deleteVote">
         UPDATE VOTE
         SET V_STATUS = 'N'
       WHERE V_NO = ? 
   </entry>
   
   
</properties>